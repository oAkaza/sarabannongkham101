<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏£‡∏±‡∏ö</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai&display=swap" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <style>
    body { font-family: 'Noto Sans Thai', sans-serif; }
  </style>
</head>
<body class="bg-gradient-to-br from-blue-100 via-white to-cyan-100 py-10">
  <div class="max-w-3xl mx-auto bg-white shadow-2xl rounded-xl p-8 border border-blue-200">
    
    <!-- ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏¢‡πâ‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡πÄ‡∏°‡∏ô‡∏π -->
    <h1 class="text-3xl font-bold mb-6 text-center text-blue-800">üì• ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏£‡∏±‡∏ö</h1>

    <!-- ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π -->
    <div class="mb-6 flex justify-between">
      <a href="/dashboard"
         class="inline-flex items-center px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white font-medium shadow transition">
        ‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å
      </a>
      <a href="/book-in/list"
         class="inline-flex items-center px-5 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition shadow font-semibold">
        üìÑ ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏£‡∏±‡∏ö
      </a>
    </div>

    <form id="bookInForm" enctype="multipart/form-data" class="space-y-6">
      <div>
        <label class="block text-gray-800 font-semibold mb-1">‡πÄ‡∏•‡∏Ç‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏±‡∏ö *</label>
        <input type="text" name="registerNo" required class="w-full p-3 border rounded-xl shadow-inner border-blue-300" />
      </div>

      <div class="grid grid-cols-2 gap-4">
        <div>
          <label class="block font-medium text-sm text-gray-700">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö</label>
          <input type="date" name="receiveDate" class="w-full p-2 border rounded" />
        </div>
        <div>
          <label class="block font-medium text-sm text-gray-700">‡πÄ‡∏ß‡∏•‡∏≤</label>
          <input type="time" name="receiveTime" class="w-full p-2 border rounded" />
        </div>
      </div>

      <div>
        <label class="block font-medium text-sm text-gray-700">‡∏ä‡∏±‡πâ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß</label>
        <select name="speed" class="w-full p-2 border rounded">
          <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å --</option>
          <option>‡∏õ‡∏Å‡∏ï‡∏¥</option>
          <option>‡∏î‡πà‡∏ß‡∏ô</option>
          <option>‡∏î‡πà‡∏ß‡∏ô‡∏°‡∏≤‡∏Å</option>
          <option>‡∏î‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</option>
        </select>
      </div>

      <input type="text" name="docNo" placeholder="‡∏ó‡∏µ‡πà‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠" class="w-full p-2 border rounded" />
      <input type="date" name="docDate" placeholder="‡∏•‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà" class="w-full p-2 border rounded" />
      <input type="text" name="from" placeholder="‡∏à‡∏≤‡∏Å" class="w-full p-2 border rounded" />
      <input type="text" name="to" value="‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏≥‡∏ö‡∏•‡∏´‡∏ô‡∏≠‡∏á‡∏Ç‡∏≤‡∏°" readonly class="w-full p-2 border rounded bg-gray-100" />
      <input type="text" name="subject" placeholder="‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á" class="w-full p-2 border rounded" />

      <select name="action" class="w-full p-2 border rounded">
        <option value="">-- ‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥ --</option>
        <option>‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏õ‡∏•‡∏±‡∏î</option>
        <option>‡∏Å‡∏≠‡∏á‡∏Ñ‡∏•‡∏±‡∏á</option>
        <option>‡∏Å‡∏≠‡∏á‡∏ä‡πà‡∏≤‡∏á</option>
        <option>‡∏Å‡∏≠‡∏á‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏á‡∏Ñ‡∏°</option>
        <option>‡∏Å‡∏≠‡∏á‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏™‡∏∏‡∏Ç</option>
        <option>‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏†‡∏≤‡∏¢‡πÉ‡∏ô</option>
        <option>‡∏ô‡∏¥‡∏ï‡∏¥‡∏Å‡∏£</option>
        <option>‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô</option>
        <option>‡∏ù‡πà‡∏≤‡∏¢‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡πÅ‡∏ú‡∏ô</option>
        <option>‡∏ù‡πà‡∏≤‡∏¢‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•</option>
        <option>‡∏ù‡πà‡∏≤‡∏¢‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</option>
      </select>

      <div>
        <label class="block font-medium mb-1 text-gray-800">‡πÅ‡∏ô‡∏ö‡πÑ‡∏ü‡∏•‡πå PDF</label>
        <div class="flex items-center gap-4">
          <label for="pdfFile"
            class="cursor-pointer bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-xl font-semibold shadow inline-block">
            üìé ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå PDF
          </label>
          <span id="fileName" class="text-sm text-gray-700">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå</span>
        </div>
        <input type="file" id="pdfFile" name="pdfFile" accept=".pdf"
          class="hidden" onchange="document.getElementById('fileName').textContent = this.files[0]?.name || '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå';" />
      </div>

      <div class="text-center mt-6">
        <button type="submit"
          class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded font-semibold shadow transition duration-200">
          üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
        </button>
      </div>
    </form>
  </div>

<script>
document.getElementById('bookInForm').addEventListener('submit', async function(e) {
  e.preventDefault();
  const form = e.target;
  const formData = new FormData(form);
  const res = await fetch('/book-in', {
    method: 'POST',
    body: formData
  });
  const result = await res.text();
  if (result.includes('‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å')) {
    Swal.fire({
      icon: 'success',
      title: '‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!',
      text: '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏£‡∏±‡∏ö‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß',
      timer: 2000,
      showConfirmButton: false
    });
    form.reset();
    document.getElementById('fileName').textContent = '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå';
  } else {
    Swal.fire({ icon: 'error', title: '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î', text: result });
  }
});
</script>
</body>
</html>
